draft 3.0.0.5

xUnitFor1C работает только с версией платформы 1С 8.2.17 и выше, т.к. учитываем миллисекунды при расчете времени выполнения с использованием метода ТекущаяУниверсальнаяДатаВМиллисекундах, которая появилась в платформе 1С 8.2.17

...

3.0.0.3

	ОФ: Если при загрузке тестов при включенном Информаторе падала 1С, при следующей загрузке пользователю будет дана возможность отключить и Информатора, и загрузку тестов и загрузить браузер тестов в нужном режиме. #442 #412 
	Также добавлена форма настройки фреймворка для ОФ
	ОФ+УФ: Если при загрузке тестов падала 1С, при следующей загрузке пользователю будет дана возможность отключить загрузку и загрузить браузер тестов для ручного выбора тестов. #442

	Добавлена поддержка отключенного режима использования модальных окон #442 и асинхронной загрузки и выполнения тестов в интерактивном режиме #416

Тесты:

	Появилась возможность выполнения связанных тестов в одном наборе, при этом появилась возможность использования общего контекста через фреймворк xUnitFor1C.
	ОФ + УФ: Работа с контекстом тестов - УстановитьКонтекст/ПолучитьКонтекст #453

	ОФ+УФ: теперь тесты выполняются в одном общем экземпляре тестового объекта, а не уникальных экземплярах на каждый тест #253
	ОФ+УФ: Ускорение тестирования, т.к. объект-тест создается только один раз #253

	Появилась возможность выполнения тестов в строго определенном порядке,  даже при включенном флаге случайного порядка запуска тестов
	Ддля этого добавлен необязательный метод теста РазрешенСлучайныйПорядокВыполненияТестов #253

	Реализация методов теста "ПередЗапускомТестовогоНабора"/"ПослеЗапускаТестовогоНабора" - для запуска перед/после первого/последнего тестов из тестового набора #395
	
	ОФ+УФ: Добавлены тест метода фреймворка "ДанныеТекущегоТеста" и реализация этого функционала #483

	Доработан код работы отмены транзакций для параметрических тестов и код отмены транзакций для упавших тестов #378

	При сравнении табличных документов добавлена возможность учитывать только видимые строки #488

Браузер тестирования:
	Добавлена возможность просмотра текущих ошибок выполнения тестов #491
	ОФ+УФ: Добавлен хоткей Ctrl+Enter на кнопку "выполнить выбранные тесты" на форму браузера тестов #451
	ОФ+УФ: Добавлена кнопку "выполнить выбранные тесты" на форму браузера тестов #451

	В управляемую форму выбора подсистем добавлены картинки по типу строки.
	Исправлена ошибка: при открытии запускателя тестов в обычном режиме иногда не загружаются тесты предыдущего сеанса, если перед этим использовали запускатель тестов в управляемом режиме

	УФ: Реализован подхват изменений обработок для серверных тестов в управляемой форме.
	ОФ+УФ: Изменения в тестах подхватываются перед выполнением тестов, не нужно лишний раз нажимать Перезагрузить #459

	Исправлена ошибка: если в тестовой обработке несколько форv с тестовыми методами, то методы выполняются только для одной из них, для остальных форм тестовые методы пропускаются с сообщением, что метод не реализован
	ОФ+УФ: Для падающих тестов новая картинка - красный крестик (вместо кружка) увеличенного размера fixed #448
	Исправлена ошибка: При сохранении настроек раннера, затираются настройки специфические для другого режима запука (Управляемое приложение vs Обычное приложение)

	В обычной форме настройка запрета использования информатора используется и в пакетном режиме.
	В Управляемой форме доделан механизм вызова исключения для позиционирования в модуле ранера без изменения строк дерева
	Настройки раннера не сохраняются только при запуске в пакетном режиме, то есть когда, после выполнения требуемых действий, обработка закрывается.
	Исправлена ошибка: В управляемой форме, при перезагрузке браузера тестирования, если обработка изменялась, начинает вести себя некорректно
	исправлена ошибка: В обычной форме, при выборочном запуске тестов не подсчитывается количество запущенных тестов #438
	исправлена ошибка: В управляемой форме, при загрузке тестов, иногда удаляются не все пустые каталоги из дерева тестов #443

	Добавлена проверка и выдача юзабельного сообщения об ошибке, если 1С:Предприятие 8 не было запущено в режиме Менеджера тестирования
	Исправлена ошибка: в УФ для тестов из модуля обработки неверно показывался полный путь к файлу обработки
	Исправлена ошибка: при формировании отчета в формате JUnit если по тестовому методу зарегистрировано более одной ошибки, в отчет выводится только одна
	При запуске из командной строки исправлена ошибка при включенном флаге работы через TeamCity
	Исправлено заполнение истории выбора при загрузке выделенных тестов.
	Исправлена ошибка - При загрузке подсистемы возникают ошибки, если в составе подсистеме есть не только встроенные обработки #470
	Исправлено заполнение истории выбора мест и файлов в обычной форме
	Исправлена ошибка: истории выбора мест и файлов востанавливается в обртном порядке.

	Реализовано упорядочивание дерева тестов после загрузки тестов #484

Генератор данных:
	Добавлена возможность поиска элементов по ключевым полям (новая колонка Ключ) #380

	При загрузке данных из макетов можно указать общие параметры создания всех данных из макетов fixed #436

	Добавлена возможность использовать планы обмена при генерации данных #481
	Добавлена возможность генерации макета для планов обмена #486

	#493 Исправлена ошибка с генерацией небалансового ресурса регистра бухгалтерии. Доработан макет "СозданиеДвухЗаписейРегистраБухгалтерии".
	#496 Исправлена ошибка генерации данных и макета данных для простого и составного реквизита с пустым значением ссылки и реализация для теста
	Исправлена ошибка открытия раннера из генератора макетов fixed #449
	Исправлена ошибка в УФ: метод СоздатьДанныеПоТабличномуДокументу имел сигнатуру вызова, отличающуюся от ОФ.

	Флаг "Выгружать ссылку" включается автоматически, т.к. это включение позволяет создавать работающие тесты и для пустой, и для уже заполненной тестовой базы

Поддержана асинхронность при открытии инструментов #416
Поддержана асинхронная работа в пакетном режиме #416

Исправлено падение тестов открытия форм для отчета, использующего общую форму отчетов fixed #492

Тест запуска сеансов пользователей проверяет наличие в текущей конфигурации ролей из макета и падает с нормальным сообщением о нехватке ролей, если нужных ролей. #441
УФ: Исправил падение тестов запуска сеансов разных пользователей #460


2.8.0.0

    Добавлен показ времени выполнения каждого теста и в сумме по группе в дереве тестов обычной формы и управляемой формы #421

    УФ+ОФ: Добавлено ведение истории открытых файлов-тестов и каталогов тестов в управляемой форме запуска тестов #234 #413

    ОФ: Команда "Загрузить только выбранные файлы-наборы тестов" в контекстном меню fixed #383

    Расширение списка статусов результата выполнения тестов fixed #248
    Упавшие тестов разделены на две группы:
      Failed - тесты, упавшие в результате проверок(assert)
      Broken - тесты, упавшие  из-за непредвиденного исключения

    Реализован программный интерфейс пропуска тестов. Пропущенные тесты регистрируются в отчете по ошибкам
   
    Изменен вывод сводной информации в отчете по ошибкам тестирования fixed #438
    Новый формат:
    Запущено тестов - [ВсегоТестов], не прошло проверку - [НеПрошлоПроверку], возникло прочих ошибок - [ПрочиеОшибки], пропущено - [Пропущено]
    
    При выводе в отчет информации об ошибках проверок и пропущенных тестах убран вывод отладочной информации(место возникновения ошибка), 
    для прочих ошибок поведение не изменилось.

Генератор макетов:

    В макете создается спец.ТЧ "xddMods", если для объекта требуется задание нескольких режимов fixed #434

    Исправлена ошибка работы с субконто для регистров бухгалтерии #409
    Исправлен Генератор данных не может создать макет при наличии небалансовых измерений в регистре бухгалтерии #422

    Исправлена ошибка #404 - Если реквизит элемента ссылается на этот же элемент, то возникает зацикливание кода загрузки данных.
    Исправлена ошибка при генерации макета из реального объекта, у которого минимум 2 табличные части #317

    fixed #376 ошибка при создании группы справочника, если у справочника есть табличная часть только для элементов

    fixed #428 Генератор данных. Ошибка создания макета для предопределенного элемента в конфигурациях на платформе 8.3 с режимом совместимости ниже 8.3.3
    fixed #430 Не работал показ выбранных документов, если у документа 2 табличные части

    не создавался макет данных в xddDataFixtureGen на значениях Неопределено в составных типах fixed #439
    исправлено падение 1С в xddDataFixtureGen.epf при нажатии "Объекты по ссылкам" в случае, если в конфигурации есть рекурсивные ссылки fixed #411

    Генерация макета не выгружает в макет связанные элементы справочников из табличной части выгружаемого документа fixed #419
    Генератор данных не может создать макет при наличии небалансовых измерений в регистре бухгалтерии fixed #422
    Генератор данных ошибка создания макета для счета с немаксимальным числом субконто fixed #424

    Метод СоздатьДанныеПоТабличномуДокументу неверно работает с параметром ИмяКолонкиЗамещения #423

Тесты:

    Реализовано создание первого пользователя fixed #397.
    
    При первом запуске в режиме предприятия создается первый пользователь и
    сеанс перезапускает под этим пользователем. При запуске из командной
    строки, чтобы при перезапуске запустилась обработка, в параметре
    запуска (/C) первым параметром нужно продублировать путь к обработке из
    параметра /EXECUTE

    Исправлено: При случайном порядке запуска тестов иногда падает тест ТестыГенератораДанных.Тест_ДолженСоздатьПростойСправочникПоискомПоГуид fixed #400

    тест СКД и отчета на СКД теперь работает и в режиме тестирования на тонком клиенте

    ОФ: Тесты открытия форм документов (существующие формы документов и перенос документов на текущий день) должны требовать только права на "Редактирование" fixed #402
	    Исключать формы для устаревших удаляемых метаданных fixed #393

	Добавлен тест проверяющий создание справочников образующих циклическую зависимость.

Прочее:
    Расстановка состояний тестовых наборов в обычной форме приведено в соответствие с управляемой.

    УФ: при загрузке только выбранных файлов они не попадали в историю файлов

    Возникало исключение при отсутствии каталога для лог-файла при запуске из командной строки fixed #420 В этом случае не работал CI

    у роли Роль1 убрано право на интерактивное добавление для Спр.ПростойСправочник2 #402


    Убрано использование COMОбъекта при вычислении идентификатора из представления #418 (большая совместимость с Linux)
    
    УФ: Не выполняем загрузку тестов из каталога .git #364

    Исправлена ошибка #415 - в 2.7.1.0 не открывалась форма тестирования в режиме Такси 8.3 при отключении использования модального функционала.

    Исправлено сохранение настроек в управляемой форме

2.7.1.0

xddTestRunner:

    Утверждение ПроверитьРавенствоТаблиц #386 (только для толстого клиента и сервера) + тесты

    ОФ+УФ: Утверждение ПроверитьРавенствоТабличныхДокументовТолькоПоЗначениям #386 (только для толстого клиента и сервера) + тесты
    + полезный экспортный метод ПолучитьТаблицуЗначенийИзТабличногоДокумента

	Параметр командной строки xddExitCodePath сделан обязательным для запуска тестов через командную строку http://goo.gl/DYmCMV

    ОФ+УФ: улучшения диагностики прохождения тестов #398

    Исправлены ошибки: 
	    неверные пути тестов при регистрации в журнале регистрации
	    УФ: в журнале регистрации не регистрировались ошибки УФ-тестов независимо от флага регистрации ошибок тестов в ЖР
	    ОФ+УФ: в различных случаях вместо представления параметрического теста показывалось имя тестового метода параметрического теста
	    Более удобная форма сообщения об ошибки для утверждение "ПроверитьВхождение"

УФ:

    УФ: при тестировании в УФ иногда целиком падал процесс 1С #406

    Реализовано сохранение флагов в управляемой форме запуска тестов #49

    реализовано следующее поведение расстановки состояний:
	    - предыдущиие состояния выполнения тестов не сбрасываются;
	    - если в папке есть тесты которые ещё ни разу не запускали, то у папки состояние не изменяется;
	    - если в папке пройдены все тесты, то состояние папки будет худшим из состояний вложенных тестов;
	    - если при очередном запуске вложенных тестов худшее состояние изменилось, то сотояние папки меняется на новое состояние.

    Реализован новый алгоритм перемешивания тестовых данных в управляемой форме запуска тестов.
    Алгоритм взят из книги Кнута "Искусство программирования" т.2

    Исправлена индикация процеса тестирования в управляемой форме запуска тестов.


Генератор данных и макетов данных:

    Реализована загрузка записей регистра бухгалтерии по макету данных #183
    Генерация макета для создания записей регистра бухгалтерии #347

    ОФ+УФ: Выгрузка ссылок и ГУИД ссылок в макет создания данных #388 
    Это реальная возможность создавать макеты тестовых данных, на основании которых можно создавать тестовые данные как в пустой/чистой ИБ, так и в заполненной тестовой ИБ

    При включенном флажке "Выгружать по необходимости" теперь выгружаются родители при выгрузке иерархических справочников и планов видов характеристики #327

    Повышена юзабилити для ОФ+УФ: При установке отбора в дереве метаданных не ставится флаг выгрузки метаданного fixed #399

    Новый режим "Выражение" для вычисления значения из макета #385

    Исправлено: 
		При выгрузке отчета конфигурации со встроенной обработкой xddDataFixtureGen Конфигурацтор 1с закрывается с ошибкой #384
		    
		ошибка падения теста с непонятным сообщением, если задан неверный режим для реквизита

		Неправильно создается тип значения для реквизитов-перечислений - #403

		генерировались неудобные имена уникальных переменных в макетах тестовых данных #390

		ошибка повторного создания документов в режиме с использованием ссылки в базе, где эти документы уже есть #405

    ОФ+УФ: Добавлена дополнительная диагностика для тестирования создания данных на основании макета данных

Тесты открытия форм:

    Тесты открытия формы новых документов и новых элементов справочника не показываются, если у пользователя нет права на интерактивное добавление #392
    ОФ: для документов тесты открытия форм существующих документов и их переноса на текущий день из-за особенностей реализации привязаны к праву интерактивного добавления

Тесты:
    Ошибка при попытке создать каталог в тесте Tests_CmdLine.epf когда в имени каталога временных файлов присутствуют точки #401
    Рефакторинг кода замены слешей для Windows/Linux

Исправлены мелкие ошибки и проблемы.

2.7.0.0

xddTestRunner:
	Параметр командной строки xddExitCodePath сделан обязательным для запуска тестов через командную строку http://goo.gl/DYmCMV

	Добавлено выполнение тестов в случайном порядке - интерактивно в браузере тестов или с помощью автозапуска через командную строку 1С. #296
		Важно для подтверждения независимости тестов друг от друга.

	Доработано: В случае ошибки теста все незавершенные транзакции отменяются. #378 
		Это исправление также влияет на независимость тестов.
		Из-за особенностей работы транзакций в 1С могла выполняться некорректная работа с транзакциями внутри тестов и могла падать 1С при тестировании.

	Добавлены средства отладки тестов #251 (видео-пример http://youtu.be/mWruapiVabA ) :
		1. В толстом клиенте добавлена команда "Выполнить тест с исключением".
		Перед тестом вызывается исключение, можно сразу открыть конфигуратор, поставить точку останов и попасть при следующем запуске
		в необходимую тестовую обработку.

		2. В тонком клиенте добавлен вызов режима отладки - все тесты переподключаются в безопасном режиме 
		и можно подключить тестовую обработку в конфигураторе и поставить точку останова.

		3. Добавлен пример тестовой обработки для возможности отладки в управляемых форм не в безопасном режиме - 
		обработка открывается отдельно, ищет форму xddTestRunner и позволяет использовать привычные проверки юТест.Может служить шаблоном.


Генератор тестовых данных:

	Загрузка данных из макетов позволяет использовать пустые/незаполненные строки в макетах #373 #367

	Пустое ссылочное значение реквизита составного типа неверно выгружалось в макет #346

	Исправлена ошибка - при создании группы справочника очищаются табличные части, которых не используются для групп этого справочника, что вызывало исключение 1С. #376

	Если в представлении объекта есть символ запятой, то созданный тестовый макет нельзя было использовать для загрузки данных #361

	При автоматическом прогоне всех тестов ранее не выполнялись тесты генератора макетов данных xddDataFixtureGen #346


2.6.1.0

xddTestRunner:
	Добавлена возможность запуска отладки тестов. Обработки подключаются в безопасном режиме.

	Исправлено: После перезагрузки браузера тестирования загружается неверный список тестов #312

	При запуске из командной строки неверные каталоги (отчетов тестов и другие пути) считать ошибкой тестирования, нужно создавать отчет в формате JUnit #372
	При запуске из командной строки неудачу загрузки тестов считать ошибкой, в ГУИ - ошибкой не считать #368
	В случае подобных ошибок пишутся ошибки в журнал регистрации.

	Внешняя обработка xddScriptRunner.epf для запуска xddTestRunner, встроенного в конфигурацию.

	Исключил попытку загрузки тестов из скрытого каталога .git #364

	Файл лога в формате junit(xml) записываем сразу, а не в 2 этапа, для исключения проблем с разборкой на сервере сборок TeamCity

	Утверждение "Вхождение даты в период" - ПроверитьДату #341

	Исправлены различные мелкие ошибки.

Генератор тестовых данных:
	Серьезный рефакторинг кода генерации данных по макетам. Добавление нескольких режимов для объектов #338

	#337 Генерация данных:
		Выполняется очистка табличных частей #337;
		  Добавлена запись нормального exit code в файл при запуске через командную строку #314;
		  Убрал ненужный параметр "КоличествоСозданныхОбъектов" у метода СоздатьДанныеПо...;

		Вместо одного поля Режим использовать табличную часть с набором Режимов #337;
		  Отказаться от режима "Группа" #333;
		  Отказаться от режима "СоздатьПоГуид" #332;

	#335 неверная генерация макета для реквизитов составных типов;

	Неверная генерация макета для предопределенных элементов в 8.2 #377
	в ОФ нельзя было проверить создание данных на основании сгенерированного макета

	Нельзя было создать макет по регистру накопления

	Исправлен баг неверной генерации времени в реквизитах дата #360

	#345 Поиск тестов в дополнительной форме с приоритетом основной формы

	не работала тч ОбменДанными

	не выдавалось исключение в случае поиска объектов по пустым значениям

	При загрузке неверной подсистемы или неверного встроенного теста загрузка тестов могла останавливаться;

	Исправлены ошибки в вызове генератора тестов в упр. форме, обработки параметров запуска.

	Исправлена ошибка #326 : При отсутствии описания необязательной колонки (ДополнительныйТипЗначения) в макете выдавалось ненужное исключение
	Исправлена ошибка #326 : При отсутствии описания колонок (1 строка) в макете не происходит создание тестовых данных, но никакой ошибки не выдается

	#325 Исправлена ошибка генерации макета данных: для регистров сведений, накопления и бухгалтерии в отборе можно было установить поля, не входящие в отбор набора записей, после чего при генерации макета происходила ошибка выполнения

	#324 Исправлена ошибка генератора макетов: генерация неуникальных имен переменных в макете

	#318 УФ: настройка выгрузки кодов/номеров при генерации макета данных

2.6.0.5 
	Модифицирована кнопку "Загрузить тесты" в xddTestRunner для выбора варианта загрузки тестов по умолчанию (из конфигурации или из каталога) в зависимости от  встроенности xddTestRunner в конфигурацию #309

	Убран обработчик ожидания выполнения тестов в толстой форме #315

	#308 УФ: Тест вывода лога сообщений 1С в формате TeamCity сделан нереализованным из-за особенностей командной строки тонкого клиента

2.6.0.4 
	
	Добавлен вывод лога сообщений 1С в формате TeamCity #308


2.6.0.0

    В WiKi добавлена инструкция для контрибьюторов
    Добавлена тестовая база, для запуска тестов.

    Добавлены элементы непрерывной интеграции - при добавлении нового pull-request происходит либо автоматически либо по спец.команде от админа в комментариях Гитхаб старт сборки и прогон тестов (отдельно платформа Win, отдельно платформа Linux)

xddTestRunner:
    #252 Поддержка интерфейса Такси в 1С Предприятии 8.3
    УФ. Добавлена индикация прохождения тестов - зеленая/красная полоса #250 
    	#276 Отображение как в ОФ
    	#268 реализация оповещения об загрузке тестов
    Добавлена расширенная справка продукта #284
    Команды "О проекте" в ОФ и УФ ведут на Вики #284
    УФ: Изменения в интерфейсе, приведение к виду, как в ОФ

    УФ: Добавлен функционал ПолучитьСписокТестовыхФорм() для возможности тестирования тестов из разных управляемых форм обработки-теста, а не только из основной формы и модуля #264
    Исправлена ошибка: В УФ при открытии внешних инструментов выдавалась ошибка #294
    УФ: Специальный метод МетаданныеИмя() #291
    #264 реализована обработка метода в модуле объекта для получения списка тестовых форм
    #279 Исправлены ошибки формирования xml-файла в формате JUnit
    Также в этот файл добавлена совместимость с TeamCity (вместо success передается passed)
    #254 УФ: исправлен баг дубляжа тестовых случаев при загрузке выделенных тестов
    УФ: добавил утверждение ПроверитьВхождениеВКоллекцию + тесты для УФ
    Новый метод-утверждение ПроверитьВалидностьЗапросаСКД #261
    
    Исправления для работы в linux
    В исходники всех файлов проекта добавлены макеты из соответствующих обработок.

Командная строка запуска xddTestRunner:
    Добавлено сохранение отчетов о тестировании, если в параметр "путь отчетов" передан путь к файлу, тогда сохраняем в этот файл.

Генератор тестовых данных:
    Реализован доп.метод ЮТест.СоздатьДанныеПоМакетам для создания тестовых данных с передачей объекта обработки и простого списка макетов #258
    Реализована загрузка элементов плана видов характеристик из макета #245
    Добавлено уточнение режима записи/создания с использованием штатных структур "Дополнительные свойства" и "ОбменДанными" (в виде дополнительных табличных полей объекта в макете) #242
    #292 УФ: В пример теста на управляемой форме, в котором генерятся тестовые данные, добавлено:
    - удаление тестовых данных
    - работа с агрегатными типами, которые поддерживает генератор данных  
    Исправлена ошибка: Не правильно работало получить значение для реквизитов типа «ТочкаМаршрута»
    Исправлена ошибка: В описании реквизитов объектов типа «задача» не было реквизитов адресации

Сценарные тесты для 8.3:
    Добавлен вывод версии обработки генерации шаблонов теста в заголовок формы;
    Исправлена ошибка: При генерации имени готового файла-тест для Gui тестов 8.3 в имя результирующего epf-файла добавлялась лишняя точка перед расширением epf #288

    Доработана генерация файла-шаблон теста Gui 8.3:
    - Добавлена генерация готового файла-теста для Gui тестов 8.3 по тексту журнала, а не только по файлу журнала действий пользователя 8.3 #287
    - исправлена ошибка: сгенерированный файл-обработка не проходил синтакс-контроль в любых режимах #291
    - исправлена ошибка: сгенерированный файл не запускался в тонком клиенте #290
    - сгенерированный файл проходит тесты в xUnitFor1C при запуске на 8.3
    - добавлено создание/удаление тестового пользователя из макета данных #293
    - сам шаблон тестовой обработки приложен как двоичный файл для упрощения исправления в дальнейшем, а не как zip-архив разобранных файлов, как было ранее
 
    В файл-шаблон теста Tests\Gui83\юнитТест_UI_83.epf добавлено:
    - создание/удаление тестового пользователя из макета данных #293
    - добавлена установка пароля #291
    - Исправлена ошибка: В 8.3 этот тест не проходил #291

Тесты:
    Портирован запуск части тестов на linux.

	Tests\selftest\Tests_CmdLine:
    Добавлен учет прошедших тестов.для задачи #264
    Если в пути к xddTestRunner есть пробелы, возникала ошибка в тесте Tests_CmdLine.epf #265

    Tests\CommonApp\ТестыГенератораДанных.epf
    УФ: Создан пример теста на управляемой форме, в котором генерятся и удаляются тестовые данные #292

    #278 исправил дублирование тестов "параметров тестов" для ОФ и УФ и перенес единый файл теста в selftests
    #278 Добавил тесты для незаданного параметра или явно задания Параметр = Неопредено;

    Добавлен тест Tests\selftests\ТестПроверяетНезависимостьТестов.epf для проверки независимости тестов #253

    Изменение в тестах для поддержки разных региональных настроек дат #266

Разбор файлов продукта с помощью новой версии precommit1c (0.0.3 из ветки develop) #243

Исправлены различные ошибки:
	#281 решение проблемы с встроенными тестами
    #281 решение проблемы с клиент-серверным вариантом работы, когда клиент и сервер разные машины


2.5.0.9
Генерация данных:
- УФ Генерация макета по ссылкам внутри объекта #220
- Реализована загрузка/изменение предопределенных элементов справочников из макета с тестовыми данными #228
- Добавлен режим загрузки "ОбменДанными" #241
- Реализована загрузка элементов плана видов характеристик из макета #245
- Поддержка новых типов БизнесПроцесс + Задачи + ТочкиМаршрута
- Для документов, бизнес-процессов и задач полезная фича - если дата не задана, она автоматически устанавливается на текущую дату;

Исправлены ошибки при генерации данных:
- Очистка всех записей независимого регистра сведений при попытке создания хотя бы одной записи из тестового макета #239
- нельзя было установить пустую ссылку конкретного типа как значение реквизита составного типа
- На толстом клиенте УФ нельзя протестировать полученный макет данных #237
- При создании макета для документа не выгружается реквизит "Проведен", даже если документ проведен #236
- На управляемой форме не работала команда "Показать выбранные объекты" #220
- неуникальности имен наборов записей регистров накопления и регистров сведений;
- нет возможности указать вид движения регистра накопления в макете генерации тестовых данных #232
- если у метаданного есть реквизит типа "Уникальный идентификатор", то выдавалась ошибка и выполнение останавливается. #233
- если у метаданного есть реквизит типа "Хранилище значения", то выдавалась ошибка и выполнение останавливается. #222
- мелкие ошибки

Выполнение тестов:
- УФ: Загрузка встроенных тестов из подсистем конфигурации #138
- УФ: Загрузка отдельного набора тестов из встроенной обработки-теста конфигурации #139
- УФ: Форма выбора подсистем конфигурации для загрузки тестов. #140
- ОФ: Командная строка загрузки встроенных тестов из конфигурации #137
Примеры путей: Метаданные.Обработки.Тест_Обработка или Метаданные.Подсистемы.Тестовая
команда xddConfig/ЭтоТестИзКонфигурации стала необязательной при указании пути с Метаданные.

- Запись ошибок тестирования в журнал регистрации базы 1С #223
- для УФ реализована команда "Загрузить только выбранные файлы-наборы тестов" в контекстном меню #169
- Исправлена ошибка бесконечного рекурсивного вызова и падения 1С при использовании внешней, а не встроенной обработки xddTestRunner #220
- Добавлены тесты командной строки загрузки встроенных тестов из конфигурации для управляемого приложения #137

Утверждения
  - ПроверитьВыполнилось
  - ПроверитьМетодВыполнился
  - ПроверитьМетодНеВыполнился
  - ПроверитьНеВыполнилось
слегка изменили свое поведение: теперь показывается полное представление ошибки с учетом вложенных ошибок, а не только описание первой ошибки

2.5.0.3
Исправлена ошибка - в тонком клиенте упр.приложения не работают тесты, если клиент и сервер находятся на разных машинах #79

Исправлено - При генерации данных тестовых данных в случае возникновения ошибки создания метаданных (например, из-за отсутствия прав) в тексте исключения не было видно имя метаданного
Исправлено - при создании макета могут образовываться одинаковые имена переменных #209 
Исправлено - группа справочника создавалась как элемент #225
Исправлено - не  работала загрузка независимых регистров сведений в режиме единичной записи (через МенеджерЗаписи);
Исправлено - на упр.форме нельзя в таблице данных нельзя было выбрать группу справочника
Исправлено - при выполнении теста в описании теста может быть недопустимый символ XML и тестирование останавливалось по ошибке #224 

Приложена тестовая конфигурация, без которой не работала часть тестов

2.5.0.0
Браузер тестов теперь умеет работать и как внешняя, и как встроенная обработка

Новые наименования основных инструментов - англоязычные, короткие наименования со специальным префиксом xdd.
xddTestRunner.epf
xddDataFixtureGen.epf
xddInformator.epf

В обработках проекта добавил ссылку на Wiki проекта
    доработал справочную информацию, уточнил ссылки на проект

все тесты из каталога Tests проходят как в обычном приложении, так и в управляемом приложении
тесты 8.3 не пытаюсь загружаются и выдавать ошибки, если работаем в 8.2
все падающие или нереализованные тесты перенесены в TestsShouldFail
Выложен файл TestConfig.cf - это тестовая конфигурация, необходимая для тестирования xUnitFor1C;

    Текущая схема каталогов
    Tests/
        Gui83/
        CommonApp/
        ManagedApp/
        selftests/
    TestsSnegopat/
    ShouldFailTests/
        ManagedApp/

Генератор данных:
    ОФ: реализована мощная форма загрузки реальных данных с отбором в СКД и загрузкой по ссылкам внутри объектов
    Генерация макета по ссылкам внутри объекта #187

    функционал "Генерация тестовых данных по коллекции макетов" #190

    устанавливаем режим поиска элемента справочника или плана счетов в зависимости от предопределенного и основного представления (Наименование или Код)

    Реализовать загрузку записей регистра накопления из табличного документа #184

    Тесты создания нескольких записей регистров сведений, как независимых, так и подчиненных регистратору #221
    В таблице объектов для генерации нет выбора режима поиска #213
    Реализовать загрузку нескольких записей регистра сведений, в т.ч. и подчиненного регистратору, из табличного документа #219
    
    #164
    Для иерархических справочников реализована выгрузка ревизита "Родитель"
    Для подчиненных справочников реализована выгрузка ревизита "Владелец"

    Исправлено #162 не работает тест загрузки данных из макета, если есть перечисление
    Исправлено #172 не работает в клиент-серверном варианте, если клиент и сервер на разных машинах

	Мелкие ошибки
	
Тесты открытия форм конфигурации:
    Тесты открытия форм документов конфигурации не падают, если нет существующих документов
    Добавлена возможность тестирования форм конфигурации, если браузер тестов запущен в тонком клиенте
    Из обычного приложения можно запускать тестирование открытия форм конфигурации с запуском сеансов управляемого приложения (тонкий или толстый клиент)
    Из управляемого приложения (тонкий или толстый клиент) можно запускать тестирование открытия форм конфигурации с запуском сеансов обычного приложения
    автоматически закрываются сеансы, запущенные из УФ хоста
    
    В тестах открытия форм открываются только те формы, что разрешены режимами конфигурации по открытию обычных и управляемых форм #170

    УФ: тестирование форм может останавливаться на ошибке формы и не выполнять тестирования форм, следующих по списку за проблемной #154

Запуск тестов в новых сеансах с предварительным созданием тестовых пользователей с ограниченными правами:
	В обычном приложении и управляемом приложении (тонкий и толстый клиент)

    для запуска тестов xUnitFor1C пользователю с ограниченными правами нужно дать права "Администрирование", "Администрирование данных", "Automation" и "Интерактивное открытие внешних обработок";
    в конфигурации xUnitFor1C реализована специальная роль-примесь "ПраваНеобходимыеДляТестирования";
    в макеты создания тестовых пользователя добавлена установка для пользователя роли "ПраваНеобходимыеДляТестирования"
    #158 #160

    Выложена тестовая конфигурация для тестирования запуска сеансов тестовых пользвоателей в тонком клиенте
    УФ: Тесты запуска тестов в новых сеансах с предварительным созданием тестовых пользователей с ограниченными правами #158

    падения тестов, реализованных в модуле обработки (выполняются на сервере) или модуле УФ (выполняются на клиенте), показываются в отчет тестирования на хост-сеансе;
    Тесты сеансов пользователей не выполняют тесты, реализованные в управляемой форме #215
    Тесты сеансов пользователей зависят от основного режима запуска 1С #214
    Тесты запуска сеансов пользователей могут выдавать дополнительное исключение, если сеанс пользователя не смог запуститься #204

    тестирование сеансов разных пользователей:
    - если тесты не прошли, в отчете тестирования выводится полный список всех непройденных тестов и имя пользователя, у которого тесты упали;
    - исправлена ошибка: не все тестовые сеансы пользователей завершались;
    - исправлена ошибка: сеанс 1С мог зависать и не завершаться, из-за чего тест также зависал;
    В тестах открытия форм для ограниченного пользователя тесты форм заканчиваются неудачей, а в форме браузера тестов зеленая полоса #188
    приложение 1С иногда зависало из-за незакрытых COM-ссылок;
	
Запуск в командой строке:
    добавлены тесты запуска различных сеансов 1С для текущего пользователя через командную строку
    Разбор параметров запуска УФ и ОФ совпадает, добавлены англоязычные команды
    Исправлены ошибки работы в командной строке
    Командная строка с короткими английскими командами #217

    Сделал простой скрипт на PowerShell для тестирования командной строки прогона тестов
    Реализация двуязычных команд + соответствующие тесты реализованы в отдельном файле Tests_CmdLine.epf

Методы-утверждения:
    добавлена работа с параметрами в утверждения
    ПроверитьВыполнилось
    ПроверитьНеВыполнилось
    ПроверитьМетодВыполнился
    ПроверитьМетодНеВыполнился
    В UnitTestRunner реализовать проверку выполнения метода с параметрами #198

    Утверждения поиска по коллекции - ПроверитьВхождениеВКоллекцию #171
    #180 Новое утверждение ПроверитьРавенствоФайлов

Прочее:
    Поменять название основного браузера/запускателя и добавить префиксы к инструментам xUnitFor1C #193

    реализован интерфейс оповещения хост-клиента о событиях тестирования УФ;
    хост-клиент оповещается о событии загрузки тестов;
    На хост-клиенте можно использовать обработчик Message (для Снегопата) или ВывестиСообщение (для 1С);
    УФ+ОФ: в заголовке отчета ставится xUnitFor1C, а не устаревшее 1CUnit

    могли возникать неожиданные исключения в запускателе тестов;
    1С могла падать из-за потери строк дерева тестов (платформенный баг?);
    ЮТест.СоздатьДанныеПоТабличномуДокументу не работал из-за ненужной передачи данных с сервера на клиент;

    ОФ: Ошибка при запуске UnitTestRunner в "нерусской" 1С #206

    иногда не работало тестирование макета в генераторе макета (ОФ+УФ)

    Из-за ошибка в последних исправлениях не работал тест Тест_ДолженНайтиИПерезаполнитьПростойСправочникПоискомПоГуидуСсылки #211

    Имена внешних обработок приведены в равенство с названием файла;
    Ошибки при проверке конфигурации со встроенной UnitTestRunner и UnitTestInformator #207

    Файл конфигурации с примером тестирования переименован в MockExample.cf

    Метод-инструмент ПолучитьЭлементыМетаданногоПоОтбору #210

    Программная генерация макета данных на базе консоли запросов из "Инструменты Разработчика" #189
    #168 #166

    ОФ+УФ: после выполнения тестов разворачивать только узлы с ошибочными тестами. "Успешные" узлы свернуть #71
    ОФ+УФ: в зависимости от того, выделена одна строка или несколько строк, меняется текст контекстного меню - "Выполнить тест" или "Выполнить выбранные тесты"
    УФ: после загрузки тестов из каталога разворачиваю только первый уровень дерева тестов, подчиненные уровни дерева тестов не разворачиваются.
    УФ: исправлена ошибка: при попытке загрузке теста в тонком клиенте 8.2 возникала ошибка, тормозящая загрузку других тестов.

	Мелкие ошибки

2.0.1.0:
ОФ+УФ: Горячая клавиша F7 для выполнения всех тестов #156
УФ: 
	при выполнении теста упр.формы выполняется автоматическая перезагрузка последней версии теста из файла #84
	Возможность выполнения нескольких выбранных тестов #153

ОФ: Утверждение "ПроверитьРавенствоФайлов" и "ПроверитьРавенствоФайловСУчетомПереданныхПараметровСравнения" с помощью СравнениеФайлов #148
тесты для этих утверждений

Тесты открытия форм в тонком клиенте: 
	в тонком клиенте не открываю обычные формы, т.к. они все равно не откроются;
	в тестах УФ убран код, запускающий транзакцию, т.к. транзакция все равно не фиксируется между разными серверными вызовами в УФ-режиме

ОФ+УФ: Не работал запуск внешнего инструмента ПоказатьGUID.epf #151 #152

#154 добавил тест ТестДолжен_ПроверитьБагПлатформыПриОткрытииУправляемойФормыПриОткрытииКоторойЕстьИсключение
	УФ: тестирование форм может останавливаться на ошибке формы и не выполнять тестирования форм, следующих по списку за проблемной;

2.0.0.1:
хотфикс версии

2.0.0.0:
ОФ: для загрузки встроенных тестов из конфигурации есть 2 варианта-команды формы "Загрузить тесты из конфигурации" и "Загрузить тесты из конфигурации (Тест_*)"
#133
переименованы заголовки кнопок загрузки тестов и загрузки отдельного тестового набора

Выполнены доработки для выбора отдельных тестов и/или подсистем #135, #134, #133
Запуск тестов из конфигурации
Доработки для запуска тестовых наборов из конфигурации
#132

ОФ: Командная строка загрузки встроенных тестов из конфигурации #136
#144

Тесты открытия управляемых и обычных, толстых форм:
	+ Тесты открытия управляемых форм справочников и документов (новые и существующие объекты, формы списков и выбора), отчетов и обработок
	+ Тесты открытия обычных, толстых форм справочников и документов (новые и существующие объекты, формы списков и выбора), отчетов и обработок
	тесты открытия форм существующих документов, перезаписанных на текущую дату
	тесты открытия еще не записанных элементов (созданных с нуля и созданных путем копирования)
	в обычном приложении открываются и управляемые формы
	#117
	удалены устаревшие тесты, т.к. сейчас все тесты открытия форм находятся в наборе Тесты/Тесты_ОткрытиеФормКонфигурации.epf
	#129 #123 #130 #118 #117

Тесты запуска сеансов пользователей с ограниченными правами:
	Реализован базовый тест, который
	  * создает тестового пользователя с ограниченными правами
	  * прогоняет тесты открытия форм в новых, запускаемых сеансах 1C для созданных пользователей (пока как один общий тест);
	сделана заготовка для размножения подобных пользовательских тестов
	добавлен сводный тест для открытия форм конфигурации поочередно для нескольких пользователей;
	#120

Информатор 1.16: 
	При использовании описания тестов через Информатор (с помощью ЮТест.ДобавитьПростыеТестыИзОбъекта) возникала ошибка
	#147
	#120

ОФ+УФ: Добавлен вызов внешних инструментов
	1. ГенерацияМакетаДанных_На_БазеРеальныхДанных.epf
	2. ПоказатьГУИД.epf
	для обычной и управляемой формы
	#131

ОФ+УФ: На форму добавлена команда "О проекте" с гиперссылкой на Гитхаб #128

подключение Информатора убрано из модуля обработки, т.е. это вызывало ошибки при тестировании в новом сеансе, и перенесено в открытии обычной формы;
добавлен реквизит обработки ЗапретИспользованияИнформатора (Булево) - используется в тестах;

Создание тестовых данных: 
	Если при создании пользователя был указан неверный режим запуска, то генерится исключение
	При создании пользователя можно указывать доп.поля
		АутентификацияОС - по умолчанию Ложь
		   ПользовательОС - по умолчанию ""
		   РежимЗапуска - по умолчанию РежимЗапускаКлиентскогоПриложения.Авто
	Для реквизитов составного типа добавлена дополнительная колонка (№8 - ДополнительныйТипЗначения), с помощью которой можно указать конкретный тип значения элемента;
	добавлен поиск реквизитов с типом ПланСчетов;

Опциональные/параметрические тесты: 
	если задано представление тестового случая, то описание параметра в скобках к имени тестового случая не добавляется

Вместо внешнего обработчика Message (используется в Снегопат-версии xUnitFor1C, а в 1С это имя как обработчик нельзя использовать) 
	можно использовать обработчик-процедуру ВывестиСообщение(Парам);
